# Управление наследством

Страница **«Управлять моим наследством»** показывает ваше хранилище (vault), подтверждение активности (Dead Man's Switch), токены в наследстве, балансы и позволяет выводить средства.

## Когда появляется хранилище

Адрес vault возвращается фабрикой по адресу владельца. Хранилище создаётся при первой транзакции после нажатия «Сгенерировать Merkle tree» на странице «Наследство» (вызов `deployVault`). При следующих генерациях обновляется уже существующий vault (`updateWill`).

## Что отображается

- **Хранилище** — адрес вашего vault и текущий Merkle root, записанный в контракте.
- **Подтверждение активности (Dead Man's Switch)**:
  - Последняя активность (дата и время).
  - Период в днях и **когда истекает период активности** (дата и время).
  - DMS включён / период истёк.
  - Владелец vault.
  - Кнопки: **Включить DMS**, **Отменить DMS** (только владелец), **Подтвердить активность**.
  - Для владельца: блок **«Изменить период (дней)»** — ввод нового периода и кнопка «Установить период» (setPeriodDays).
- **Токены в наследстве** — список токенов из контракта (включая ETH, если передан адрес-заполнитель); для каждого выводятся **ваш баланс** и **баланс хранилища**. Адрес ETH отображается как «ETH», балансы — нативные.
- **Вывести токен из хранилища** — поле «Адрес токена», поле «Сумма», кнопка. Транзакция переводит указанное количество токена с vault на ваш кошелёк (только владелец).
- **Вывод ETH** — показывается баланс ETH в хранилище; ввод суммы в ETH и кнопка выводят нативный ETH на ваш кошелёк.

## Таблица долей по файлу

Если загрузить **merkleTree.json** (с полями `root`, `tokens`, `heirs`), строится таблица: строки — наследники (имя или ID), столбцы — токены с **символом и названием** (например, ETH (Ethereum), USDC (USD Coin)), в ячейках — доли в процентах. Удобно для проверки распределения без вызова контракта.
